---
import "../styles/experience.css";

const experiences = [
    {
        company: "TechNova",
        role: "Senior Frontend Engineer",
        date: "2023 - Present",
        desc: "Leading the frontend team in building a next-gen SaaS platform. Improved performance by 40% and established a new design system.",
        projects: ["Design System", "Dashboard 2.0", "Analytics Engine"],
        theme: "theme-blue",
        icon: "rocket",
    },
    {
        company: "Creative Solutions",
        role: "Full Stack Developer",
        date: "2021 - 2023",
        desc: "Developed and maintained multiple client websites and web applications. Integrated payment gateways and headless CMS solutions.",
        projects: ["E-commerce App", "Client Portal", "Marketing Site"],
        theme: "theme-purple",
        icon: "bulb",
    },
    {
        company: "StartUp Inc",
        role: "Junior Developer",
        date: "2019 - 2021",
        desc: "Collaborated with the product team to launch the MVP. Implemented core features using React and Node.js.",
        projects: ["MVP Launch", "User Onboarding", "API Integration"],
        theme: "theme-orange",
        icon: "chip",
    },
];

const icons: Record<string, string> = {
    rocket: '<path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.48-.56.93-1.23 1.35-2h-4.35z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 15l-3-3a2.828 2.828 0 1 1 4-4l3 3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M8 21l4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M16 9l4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>',
    bulb: '<path d="M9 21h6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 3a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-1.26C6.19 14.47 5 12.38 5 10a7 7 0 0 1 7-7z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>',
    chip: '<rect x="4" y="4" width="16" height="16" rx="2" ry="2" stroke="currentColor" stroke-width="2"/><rect x="9" y="9" width="6" height="6" stroke="currentColor" stroke-width="2"/><line x1="9" y1="1" x2="9" y2="4" stroke="currentColor" stroke-width="2"/><line x1="15" y1="1" x2="15" y2="4" stroke="currentColor" stroke-width="2"/><line x1="9" y1="20" x2="9" y2="23" stroke="currentColor" stroke-width="2"/><line x1="15" y1="20" x2="15" y2="23" stroke="currentColor" stroke-width="2"/><line x1="20" y1="9" x2="23" y2="9" stroke="currentColor" stroke-width="2"/><line x1="20" y1="14" x2="23" y2="14" stroke="currentColor" stroke-width="2"/><line x1="1" y1="9" x2="4" y2="9" stroke="currentColor" stroke-width="2"/><line x1="1" y1="14" x2="4" y2="14" stroke="currentColor" stroke-width="2"/>',
};
---

<section class="experience-section">
    <h1 class="experience-section__title">Experience</h1>

    <div class="experience-container">
        <div class="experience-list">
            {
                experiences.map((exp) => (
                    <div class={`experience-card ${exp.theme}`}>
                        <div class="card-icon">
                            <svg
                                viewBox="0 0 24 24"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                                set:html={icons[exp.icon]}
                            />
                        </div>
                        <div class="company-header">
                            <div>
                                <div class="company-name">{exp.company}</div>
                                <div class="company-role">{exp.role}</div>
                            </div>
                            <div class="company-date">{exp.date}</div>
                        </div>
                        <p style="color: #ccc; font-size: 0.95rem; line-height: 1.5; position: relative; z-index: 2;">
                            {exp.desc}
                        </p>
                        <div class="project-list">
                            {exp.projects.map((proj) => (
                                <span class="project-tag">{proj}</span>
                            ))}
                        </div>
                    </div>
                ))
            }
        </div>
    </div>
</section>
